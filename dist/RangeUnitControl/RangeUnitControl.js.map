{"version":3,"file":"RangeUnitControl.js","names":["_components","require","_react","_interopRequireWildcard","_excluded","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_extends","assign","bind","target","arguments","length","source","key","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","len","arr2","l","Symbol","iterator","f","next","done","push","value","isArray","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","RangeUnitControl","exports","props","label","units","className","style","_props$value","_props$min","min","_props$max","max","_props$onChange","onChange","rest","unitRef","useRef","_useState","useState","_useState2","toggle","setToggle","defaults","defaultUnits","number","parseInt","unit","_useState3","_useState4","currentNumber","setCurrentNumber","_useState5","_useState6","currentUnit","setCurrentUnit","useEffect","concat","handle","_unitRef$current","current","contains","document","addEventListener","removeEventListener","id","Math","floor","random","createElement","Fragment","htmlFor","width","RangeControl","val","ref","onClick","map"],"sources":["../../src/RangeUnitControl/RangeUnitControl.js"],"sourcesContent":["import { RangeControl } from \"@wordpress/components\";\r\nimport React, { Fragment, useEffect, useRef, useState } from \"react\";\r\n/**\r\n * RangeUnitControl Component\r\n * \r\n * @param {object} props - The props object\r\n * @param {string} props.label - The label for the range unit control\r\n * @param {array} props.units - The units for the range unit control\r\n * @param {string} props.className - The class name for the range unit control\r\n * @param {object} props.style - The style object for the range unit control\r\n * @param {string} props.value - The value of the range unit control\r\n * @param {number} props.min - The minimum value for the range unit control\r\n * @param {number} props.max - The maximum value for the range unit control\r\n * @param {function} props.onChange - The function to handle changes in the range unit control value\r\n * @returns {JSX.Element} React component\r\n */\r\nexport const RangeUnitControl = (props) => {\r\n  const {\r\n    label,\r\n    units,\r\n    className,\r\n    style,\r\n    value = \"0px\",\r\n    min = 0,\r\n    max = 100,\r\n    onChange = () => { },\r\n    ...rest\r\n  } = props;\r\n  const unitRef = useRef();\r\n  const [toggle, setToggle] = useState(false);\r\n  const defaults = [\r\n    { label: \"px\", value: \"px\" },\r\n    { label: \"%\", value: \"%\" },\r\n    { label: \"em\", value: \"em\" },\r\n    { label: \"rem\", value: \"rem\" },\r\n    { label: \"vw\", value: \"vw\" },\r\n    { label: \"vh\", value: \"vh\" },\r\n  ];\r\n  const defaultUnits = defaults || units;\r\n\r\n  const number = parseInt(unit) || 0;\r\n  const unit =\"px\" || value.slice(number.toString().length);\r\n\r\n  const [currentNumber, setCurrentNumber] = useState(number);\r\n  const [currentUnit, setCurrentUnit] = useState(unit);\r\n  useEffect(() => {\r\n    onChange(`${currentNumber}${currentUnit}`);\r\n  }, [currentNumber, currentUnit]);\r\n\r\n  useEffect(() => {\r\n    const handle = (e) => {\r\n      if (!unitRef?.current?.contains(e.target)) {\r\n        setToggle(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handle);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handle);\r\n    };\r\n  });\r\n  const id = Math.floor(Math.random() * 999999);\r\n\r\n  return (\r\n    <Fragment>\r\n      <style>{`\r\n        .labelWrapper {\r\n            display: flex;\r\n            justify-content: space-between;\r\n          }\r\n          .rangeControlWrapper {\r\n            display: flex;\r\n          }\r\n\r\n          .unitControlBtn {\r\n            font-size: 8px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            z-index: 9999;\r\n            border: 1px solid rgb(168, 168, 168);\r\n            border-left: none;\r\n            cursor: pointer;\r\n            font-weight: 600;\r\n            background-color: #0000;\r\n            height: 30px;\r\n            width: 21px;\r\n            border-radius: 0 2px 2px 0;\r\n            text-transform: uppercase;\r\n            margin-left: -1px;\r\n          }\r\n\r\n          .unitControlBtn:focus {\r\n            border-color: #3858e9;\r\n            border-left: 1px solid #3858e9;\r\n          }\r\n          .unitControlWrapper {\r\n            position: relative;\r\n          }\r\n          .unitListWrapper {\r\n            position: absolute;\r\n            right: 0px;\r\n            z-index: 9999 !important;\r\n            background: #fff;\r\n            font-weight: 600;\r\n            border: 1px solid rgb(168, 168, 168);\r\n            width: 19px;\r\n            text-align: center;\r\n            border-radius: 0 0 2px 2px;\r\n          }\r\n          .unitList {\r\n            margin: 0;\r\n            cursor: default;\r\n            font-size: 10px;\r\n          }\r\n          .unitList:hover {\r\n            background-color: #3858e9;\r\n            color: aliceblue;\r\n          }\r\n          .hoverBgColor {\r\n            background-color: #3858e9;\r\n            color: aliceblue;\r\n          }\r\n\r\n\r\n      `}</style>\r\n      <div\r\n        id={`unitId-${id}`}\r\n        className={`unitRangeWrapper ${className}`}\r\n        style={style}\r\n      >\r\n        <div className=\"labelWrapper\">\r\n          <label htmlFor=\"\">{label}</label>\r\n        </div>\r\n        <div className=\"rangeControlWrapper\">\r\n          <div style={{ width: \"100%\" }}>\r\n            <RangeControl\r\n              value={currentNumber}\r\n              onChange={(val) => setCurrentNumber(val)}\r\n              {...rest}\r\n              min={min}\r\n              max={max}\r\n            />\r\n          </div>\r\n          <div ref={unitRef} className=\"unitControlWrapper\">\r\n            <button\r\n              onClick={() => setToggle(!toggle)}\r\n              className=\"unitControlBtn\"\r\n            >\r\n              {unit}\r\n            </button>\r\n            {toggle && (\r\n              <div className=\"unitListWrapper\">\r\n                {defaultUnits?.map((val, i) => (\r\n                  <p\r\n                    key={i}\r\n                    onClick={() => {\r\n                      setCurrentUnit(val.value);\r\n                      setToggle(false);\r\n                    }}\r\n                    className={`unitList ${\r\n                      val.value === currentUnit ? \"hoverBgColor\" : \"\"\r\n                    } `}\r\n                  >\r\n                    {val.label}\r\n                  </p>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\n"],"mappings":"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"}