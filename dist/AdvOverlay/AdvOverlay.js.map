{"version":3,"file":"AdvOverlay.js","names":["_components","require","_immer","_react","_options","_AdvBackground","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","r","l","t","Symbol","iterator","e","u","a","f","next","done","push","value","isArray","blendOptions","label","AdvOverlay","exports","props","onChange","_useState","useState","isEnabled","colors","advBgOptions","opacity","blend","isCssFilter","blur","brightness","contrast","saturation","hue","_useState2","overlay","setOverlay","_overlay$isEnabled","_overlay$colors","_overlay$opacity","_overlay$blend","_overlay$isCssFilter","_overlay$blur","_overlay$brightness","_overlay$contrast","_overlay$saturation","_overlay$hue","updateOverlay","property","childP","arguments","undefined","newBG","produce","draft","React","createElement","className","ToggleControl","checked","val","Fragment","AdvBackground","RangeControl","min","max","step","SelectControl","labelPosition","options"],"sources":["../../src/AdvOverlay/AdvOverlay.js"],"sourcesContent":["import {\r\n  RangeControl,\r\n  SelectControl,\r\n  ToggleControl,\r\n} from \"@wordpress/components\";\r\nimport { produce } from \"immer\";\r\nimport { Fragment, useState } from \"react\";\r\nimport { advBgOptions } from \"../../utils/options\";\r\nimport { AdvBackground } from \"../AdvBackground/AdvBackground\";\r\n\r\nconst blendOptions = [\r\n  { label: \"Normal\", value: \"normal\" },\r\n  { label: \"Multiply\", value: \"multiply\" },\r\n  { label: \"Screen\", value: \"screen\" },\r\n  { label: \"Overlay\", value: \"overlay\" },\r\n  { label: \"Darken\", value: \"darken\" },\r\n  { label: \"Lighten\", value: \"lighten\" },\r\n  { label: \"Color Dodge\", value: \"color-dodge\" },\r\n  { label: \"Saturation\", value: \"saturation\" },\r\n  { label: \"Color\", value: \"color\" },\r\n  { label: \"Luminosity\", value: \"luminosity\" },\r\n];\r\n\r\n/**\r\n * AdvOverlay Component\r\n * \r\n * @param {object} props - The props object\r\n * @param {object} props.value - The value of the overlay\r\n * @param {function} props.onChange - The function to handle changes in the overlay value\r\n * @param {string} props.device - The device type (e.g., \"desktop\", \"tablet\", \"mobile\")\r\n * @returns {JSX.Element} React component\r\n */\r\n\r\n\r\nexport const AdvOverlay = (props) => {\r\n  const { value, onChange } = props;\r\n  const [overlay, setOverlay] = useState(value || {\r\n    isEnabled: false,\r\n    colors: advBgOptions,\r\n    opacity: 1,\r\n    blend: \"normal\",\r\n    isCssFilter: false,\r\n    blur: 0,\r\n    brightness: 100,\r\n    contrast: 100,\r\n    saturation: 100,\r\n    hue: 0,\r\n  });\r\n  // let overlay = value || { colors, opacity, blend };\r\n  const {\r\n    isEnabled = false,\r\n    colors = advBgOptions,\r\n    opacity = 1,\r\n    blend = \"normal\",\r\n    isCssFilter = false,\r\n    blur = 0,\r\n    brightness = 100,\r\n    contrast = 100,\r\n    saturation = 100,\r\n    hue = 0,\r\n  } = overlay;\r\n  const updateOverlay = (property, value, childP = null) => {\r\n    const newBG = produce(overlay, (draft) => {\r\n      if (null !== childP) {\r\n        draft[property][childP] = value;\r\n      } else {\r\n        draft[property] = value;\r\n      }\r\n    });\r\n    setOverlay(newBG);\r\n    onChange(newBG);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"advExtraMargin\">\r\n        <ToggleControl\r\n          label=\"Enable Overlay\"\r\n          checked={isEnabled}\r\n          value={isEnabled}\r\n          onChange={(val) => updateOverlay(\"isEnabled\", val)}\r\n        />\r\n      </div>\r\n      {isEnabled && (\r\n        <Fragment>\r\n          <AdvBackground\r\n            name=\"Overlay\"\r\n            value={colors}\r\n            onChange={(val) => updateOverlay(\"colors\", val)}\r\n          />\r\n          <hr />\r\n          <div className=\"advExtraMargin\">\r\n            <RangeControl\r\n              label=\"Opacity\"\r\n              min={0}\r\n              max={1}\r\n              value={opacity}\r\n              step={0.01}\r\n              onChange={(val) => updateOverlay(\"opacity\", val)}\r\n            />\r\n          </div>\r\n          <div className=\"advExtraMargin\">\r\n            <SelectControl\r\n              label=\"Blend Mode\"\r\n              labelPosition=\"left\"\r\n              options={blendOptions}\r\n              value={blend}\r\n              onChange={(val) => updateOverlay(\"blend\", val)}\r\n            />\r\n          </div>\r\n          <div className=\"advExtraMargin\">\r\n            <ToggleControl\r\n              label=\"CSS Filters\"\r\n              checked={isCssFilter}\r\n              value={isCssFilter}\r\n              onChange={(val) => updateOverlay(\"isCssFilter\", val)}\r\n            />\r\n          </div>\r\n          {isCssFilter && (\r\n            <Fragment>\r\n              <div className=\"advExtraMargin\">\r\n                <RangeControl\r\n                  label=\"Blur\"\r\n                  min={0}\r\n                  max={10}\r\n                  value={blur}\r\n                  onChange={(val) => updateOverlay(\"blur\", val)}\r\n                />\r\n              </div>\r\n              <div className=\"advExtraMargin\">\r\n                <RangeControl\r\n                  label=\"Brightness\"\r\n                  min={0}\r\n                  max={200}\r\n                  value={brightness}\r\n                  onChange={(val) => updateOverlay(\"brightness\", val)}\r\n                />\r\n              </div>\r\n              <div className=\"advExtraMargin\">\r\n                <RangeControl\r\n                  label=\"Contrast\"\r\n                  min={0}\r\n                  max={200}\r\n                  value={contrast}\r\n                  onChange={(val) => updateOverlay(\"contrast\", val)}\r\n                />\r\n              </div>\r\n              <div className=\"advExtraMargin\">\r\n                <RangeControl\r\n                  label=\"Saturation\"\r\n                  min={0}\r\n                  max={200}\r\n                  value={saturation}\r\n                  onChange={(val) => updateOverlay(\"saturation\", val)}\r\n                />\r\n              </div>\r\n              <div className=\"advExtraMargin\">\r\n                <RangeControl\r\n                  label=\"Hue\"\r\n                  min={0}\r\n                  max={360}\r\n                  value={hue}\r\n                  onChange={(val) => updateOverlay(\"hue\", val)}\r\n                />\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n"],"mappings":"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"}