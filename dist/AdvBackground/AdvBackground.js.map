{"version":3,"file":"AdvBackground.js","names":["_components","require","_compose","_data","_immer","_react","_BGradient","_Device","_Label","_interopRequireDefault","_MediaArea","_PanelCustomColorControl","_Tab","_options","obj","__esModule","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","key","value","_toPropertyKey","configurable","writable","i","_toPrimitive","_typeof","String","Symbol","toPrimitive","call","TypeError","Number","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","n","prototype","toString","slice","constructor","name","Array","from","test","len","arr2","l","iterator","u","a","f","next","done","isArray","AdvBackground","exports","compose","withSelect","select","_experimentalGetPrev","_select","__experimentalGetPreviewDeviceType","device","toLowerCase","props","_props$name","_props$onChange","onChange","_props$device","_useState","useState","hoverType","_useState2","bgValue","setBgValue","_ref","transition","updateBG","property","childP","undefined","newBG","produce","draft","updateHb","type","newHb","useEffect","React","createElement","Fragment","Tab","options","val","className","RangeControl","label","concat","min","max","step","Background","hover","normal","_ref2","_useState3","color","gradient","advGradientOptions","img","url","desktop","position","xPosition","yPosition","attachment","repeat","size","customSize","tablet","mobile","_useState4","_ref3","_ref4","secondP","thirdP","style","marginBottom","PanelCustomColorControl","BGradient","MediaArea","width","height","Flex","gap","align","Device","SelectControl","imgPositionOptions","__experimentalUnitControl","units","unitOptions","imgAttachmentOptions","imgRepeatOptions","imgSizeOptions"],"sources":["../../src/AdvBackground/AdvBackground.js"],"sourcesContent":["import {\r\n  Flex,\r\n  RangeControl,\r\n  SelectControl,\r\n  __experimentalUnitControl as UnitControl,\r\n} from \"@wordpress/components\";\r\nimport { compose } from \"@wordpress/compose\";\r\nimport { withSelect } from \"@wordpress/data\";\r\nimport { produce } from \"immer\";\r\nimport { Fragment, useEffect, useState } from \"react\";\r\nimport { BGradient } from \"../BGradient/BGradient\";\r\nimport { Device } from \"../Device/Device\";\r\nimport Label from \"../Label/Label\";\r\nimport { MediaArea } from \"../MediaArea/MediaArea\";\r\nimport { PanelCustomColorControl } from \"../PanelCustomColorControl/PanelCustomColorControl\";\r\nimport { Tab } from \"../Tab/Tab\";\r\nimport {\r\n  advGradientOptions,\r\n  imgAttachmentOptions,\r\n  imgPositionOptions,\r\n  imgRepeatOptions,\r\n  imgSizeOptions,\r\n  unitOptions,\r\n} from \"../utils/options\";\r\n\r\n/**\r\n * AdvBackground Component\r\n * \r\n * @param {object} props - The props object\r\n * @param {string} props.name - The name of the background\r\n * @param {object} props.value - The value of the background\r\n * @param {function} props.onChange - The function to handle changes in the background value\r\n * @param {string} props.device - The device type (e.g., \"desktop\", \"tablet\", \"mobile\")\r\n * @returns {JSX.Element} React component\r\n */\r\n\r\nexport const AdvBackground = compose(\r\n  withSelect((select) => {\r\n    const { __experimentalGetPreviewDeviceType } =\r\n      select(\"core/edit-post\");\r\n    return {\r\n      device: __experimentalGetPreviewDeviceType()?.toLowerCase(),\r\n    };\r\n  })\r\n)((props) => {\r\n  const {\r\n    name = \"Background\",\r\n    value,\r\n    onChange = () => { },\r\n    device = \"desktop\",\r\n  } = props;\r\n  const [bgValue, setBgValue] = useState(value || { hoverType: \"normal\" });\r\n  const { transition } = bgValue[bgValue.hoverType] || {};\r\n\r\n  const updateBG = (property, value, childP = null) => {\r\n    const newBG = produce(bgValue, (draft) => {\r\n      if (null !== childP) {\r\n        draft[bgValue.hoverType][property][childP] = value;\r\n      } else {\r\n        draft[bgValue.hoverType][property] = value;\r\n      }\r\n    });\r\n    setBgValue(newBG);\r\n    onChange(newBG);\r\n  };\r\n  const updateHb = (type, value) => {\r\n    const newHb = produce(bgValue, (draft) => {\r\n      draft[type] = value;\r\n    });\r\n    setBgValue(newHb);\r\n    onChange(newHb);\r\n  };\r\n  useEffect(() => {\r\n    onChange(bgValue);\r\n  }, [bgValue])\r\n  return (\r\n    <Fragment>\r\n      <Tab\r\n        options={[\"Normal\", \"Hover\"]}\r\n        value={bgValue.hoverType}\r\n        onChange={(val) => updateHb(\"hoverType\", val)}\r\n      />\r\n\r\n      {bgValue.hoverType === \"hover\" && (\r\n        <Fragment>\r\n          <div className=\"advExtraMargin\">\r\n            <RangeControl\r\n              label={`${name} Transition`}\r\n              min={0}\r\n              max={5}\r\n              step={0.05}\r\n              value={transition}\r\n              onChange={(val) => updateBG(\"transition\", val)}\r\n            />\r\n          </div>\r\n\r\n          <Background\r\n            name={name}\r\n            value={bgValue.hover}\r\n            onChange={(val) => setBgValue({ ...bgValue, hover: val })}\r\n            device={device}\r\n          />\r\n        </Fragment>\r\n      )}\r\n      {bgValue.hoverType === \"normal\" && (\r\n        <Fragment>\r\n          <Background\r\n            name={name}\r\n            value={bgValue.normal}\r\n            onChange={(val) => setBgValue({ ...bgValue, normal: val })}\r\n            device={device}\r\n          />\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n});\r\n\r\nconst Background = ({ name, value, onChange, device }) => {\r\n  const [bgValue, setBgValue] = useState(\r\n    value || {\r\n      type: \"color\",\r\n      color: \"#0000\",\r\n      gradient: advGradientOptions,\r\n      img: {\r\n        url: \"\",\r\n        desktop: {\r\n          position: \"center-center\",\r\n          xPosition: 0,\r\n          yPosition: 0,\r\n          attachment: \"default\",\r\n          repeat: \"no-repeat\",\r\n          size: \"default\",\r\n          customSize: \"0px\",\r\n        },\r\n        tablet: {\r\n          position: \"center-center\",\r\n          xPosition: 0,\r\n          yPosition: 0,\r\n          attachment: \"default\",\r\n          repeat: \"no-repeat\",\r\n          size: \"default\",\r\n          customSize: \"0px\",\r\n        },\r\n        mobile: {\r\n          position: \"center-center\",\r\n          xPosition: 0,\r\n          yPosition: 0,\r\n          attachment: \"default\",\r\n          repeat: \"no-repeat\",\r\n          size: \"default\",\r\n          customSize: \"0px\",\r\n        },\r\n      },\r\n    }\r\n  );\r\n\r\n\r\n\r\n  const { type, color, gradient, img } = value || bgValue || {};\r\n  const {\r\n    position,\r\n    xPosition,\r\n    yPosition,\r\n    attachment,\r\n    repeat,\r\n    size,\r\n    customSize,\r\n  } = img[device] || {};\r\n  const updateBG = (property, value, secondP, thirdP = null) => {\r\n    const newBG = produce(bgValue, (draft) => {\r\n      if (null !== thirdP) {\r\n        draft[property][secondP][thirdP] = value;\r\n      } else if (property && secondP) {\r\n        draft[property][secondP] = value;\r\n      } else {\r\n        draft[property] = value;\r\n      }\r\n    });\r\n    setBgValue(newBG);\r\n    onChange(newBG);\r\n  };\r\n\r\n  useEffect(() => onChange(bgValue), [bgValue])\r\n\r\n  return (\r\n    <Fragment>\r\n      <div style={{ marginBottom: \"-7px\" }}>\r\n        <label>{name} Type</label>\r\n      </div>\r\n      <Tab\r\n        options={[\"Color\", \"Gradient\", \"Image\"]}\r\n        value={type}\r\n        onChange={(val) => updateBG(\"type\", val)}\r\n      />\r\n      {type === \"color\" && (\r\n        <PanelCustomColorControl\r\n          label={`${name} Color`}\r\n          value={color}\r\n          onChange={(val) => updateBG(\"color\", val)}\r\n        />\r\n      )}\r\n      {type === \"gradient\" && (\r\n        <BGradient\r\n          value={gradient}\r\n          onChange={(val) => updateBG(\"gradient\", val)}\r\n        />\r\n      )}\r\n      {type === \"image\" && (\r\n        <Fragment>\r\n          <div>\r\n            <label>{name} Image</label>\r\n          </div>\r\n          <MediaArea\r\n            label=\"Upload Image\"\r\n            value={value.img}\r\n            // onChange={(val) => updateBG(\"img\", val.url, \"url\")}\r\n            onChange={(val) =>\r\n              onChange({ ...value, img: { ...img, url: val.url } })\r\n            }\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n          />\r\n          {img.url && (\r\n            <Fragment>\r\n              <Flex className=\"mt20 mb5\" gap={4} align=\"center\">\r\n                <Label className=\"\">Position</Label>\r\n                <Device />\r\n              </Flex>\r\n              <div className=\"advExtraMargin\">\r\n                <SelectControl\r\n                  value={position}\r\n                  options={imgPositionOptions}\r\n                  onChange={(val) =>\r\n                    updateBG(\"img\", { ...img[device], position: val }, device)\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              {position === \"custom\" && (\r\n                <Fragment>\r\n                  <Flex className=\"mt20 mb5\" gap={4} align=\"center\">\r\n                    <Label className=\"\">X Position</Label>\r\n                    <Device />\r\n                  </Flex>\r\n                  <UnitControl\r\n                    units={unitOptions}\r\n                    value={xPosition}\r\n                    min={-2000}\r\n                    max={2000}\r\n                    onChange={(val) =>\r\n                      updateBG(\r\n                        \"img\",\r\n                        { ...img[device], xPosition: val },\r\n                        device\r\n                      )\r\n                    }\r\n                  />\r\n\r\n                  <Flex className=\"mt20 mb5\" gap={4} align=\"center\">\r\n                    <Label className=\"\">Y Position</Label>\r\n                    <Device />\r\n                  </Flex>\r\n                  <div className=\"advExtraMargin\">\r\n                    <UnitControl\r\n                      units={unitOptions}\r\n                      value={yPosition}\r\n                      min={-2000}\r\n                      max={2000}\r\n                      onChange={(val) =>\r\n                        updateBG(\r\n                          \"img\",\r\n                          { ...img[device], yPosition: val },\r\n                          device\r\n                        )\r\n                      }\r\n                    />\r\n                  </div>\r\n                </Fragment>\r\n              )}\r\n\r\n              <Flex className=\"mt20 mb5\" gap={4} align=\"center\">\r\n                <Label className=\"\">Attachment</Label>\r\n                <Device />\r\n              </Flex>\r\n              <div className=\"advExtraMargin\">\r\n                <SelectControl\r\n                  value={attachment}\r\n                  options={imgAttachmentOptions}\r\n                  onChange={(val) =>\r\n                    updateBG(\"img\", { ...img[device], attachment: val }, device)\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <Flex className=\"mt20 mb5\" gap={4} align=\"center\">\r\n                <Label className=\"\">Repeat</Label>\r\n                <Device />\r\n              </Flex>\r\n              <div className=\"advExtraMargin\">\r\n                <SelectControl\r\n                  value={repeat}\r\n                  options={imgRepeatOptions}\r\n                  onChange={(val) =>\r\n                    updateBG(\"img\", { ...img[device], repeat: val }, device)\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <Flex className=\"mt20 mb5\" gap={4} align=\"center\">\r\n                <Label className=\"\">Repeat</Label>\r\n                <Device />\r\n              </Flex>\r\n              <div className=\"advExtraMargin\">\r\n                <SelectControl\r\n                  value={size}\r\n                  options={imgSizeOptions}\r\n                  onChange={(val) =>\r\n                    updateBG(\"img\", { ...img[device], size: val }, device)\r\n                  }\r\n                />\r\n              </div>\r\n              {size === \"custom\" && (\r\n                <Fragment>\r\n                  <Flex className=\"mt20 mb5\" gap={4} align=\"center\">\r\n                    <Label className=\"\">Width</Label>\r\n                    <Device />\r\n                  </Flex>\r\n                  <UnitControl\r\n                    units={unitOptions}\r\n                    value={customSize}\r\n                    min={-2000}\r\n                    max={2000}\r\n                    onChange={(val) =>\r\n                      updateBG(\r\n                        \"img\",\r\n                        { ...img[device], customSize: val },\r\n                        device\r\n                      )\r\n                    }\r\n                  />\r\n                </Fragment>\r\n              )}\r\n            </Fragment>\r\n          )}\r\n        </Fragment>\r\n      )}{\" \"}\r\n    </Fragment>\r\n  );\r\n};\r\n"],"mappings":"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"}